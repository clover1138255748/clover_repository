| 老系统数据                                                   | 老系统数据库                                                 | 新系统字段SQL                                                | 页面是否展示 |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------ |
| ~~//注册车辆<br/>private String registerTruckAmount;~~       | ~~truck and status = 3  (页面没有显示)~~                     | ~~select<br/>	count(*)<br/>from<br/>	cif.truck t1<br/>inner join cif.truck_user t2 on<br/>	t1.id = t2.truck_id<br/>where<br/>	t2.status = 3;~~ | ~~无~~       |
| ~~//在线车辆（最近一个月有过运输记录的车辆）<br/>private String onlineTruckAmount;~~ | ~~SELECT     COUNT(DISTINCT truck_id)  FROM     transit_task  WHERE     DATE_SUB(CURDATE(), INTERVAL 1 MONTH) &lt;= date(gmt_create);~~ | ~~SELECT<br/>	COUNT(DISTINCT truck_id)<br/>FROM<br/>	finance.biz_stub bs <br/>WHERE<br/>	DATE_SUB(CURDATE(),<br/>	INTERVAL 1 MONTH) <= date(gmt_create);~~ | ~~无~~       |
| ~~//年运量（万吨）<br/>private String yearTransWeight;~~     | ~~接单时间年初-->now() 工单状态为(运输中,待运输,运输完成.到货确认)的运量和~~ | ~~待确认(取工单哪些状态关联的托运单,取托运单哪个运量?签收运量?)~~ | 有           |
| ~~//年运费(万元)<br/>private String yearTransFee;~~          | ~~同上~~                                                     | ~~同上(取托运单哪个运费)~~                                   | 有           |
| ~~//日运量（吨）<br/>private String dayTransWeight;~~        | ~~24小时前-->now() 工单状态为(运输中,待运输,运输完成.到货确认)的运量和~~ | ~~同上~~                                                     | ~~无~~       |
| ~~//日运单数（派车单数）<br/>private String dayTransCount;~~ | ~~24小时前-->now() 工单状态为(运输中,待运输,运输完成.到货确认)的运单和~~ | ~~同上(取工单数量还是托运单?)~~                              | ~~无~~       |
| ~~//日运费（万元）<br/>private String dayTransFee;~~         | ~~24小时前-->now() 工单状态为(运输中,待运输,运输完成.到货确认)的运费和~~ | ~~同上~~                                                     | ~~无~~       |
| //会员数<br/>private Map<String, Map<String, String>> memberMap; | 7个月内每个月车主数量(UserTypeEnum.CARRIER)累计和7个月内每个月车辆数量累计 |                                                              | 有           |
| //月运单数（派车单）<br/>private Map<String, String> monthTransCount; | 7个月内每个月transit_task的单子数量(没有状态区分)            | 托运单全部                                                   | 有           |
| //月货源数（竞价单）<br/>private Map<String, String> monthSourceCount; | 7个月内每个月竞价单状态为(审核超时,审核中,报价中,执行中,未报价,无竞价者流拍,正常结束,没有竞价通过,即将开始,小二结束)的单子 | 工单全部                                                     | 有           |
| //浙江省车辆数量<br/>private String zjTruckAmount;           | truck中的province为浙江省未删除(没有要求已审核)的车辆        | 浙开头                                                       | 有           |
| //取所有货主数量<br/>private String goodsownerAmount;        | userType= UserTypeEnum.GOODSOWNER 的User                     |                                                              | 有           |
| //运费总计(万元)：取浙江省业务组的统计数据 + 供应浙江内部货运站运费总计<br/>private String transFee; | 业务太复杂 新系统重新设计BigScreenServiceImpl#getZheJiangData |                                                              | 有           |
| //运量总计(万吨) : 取浙江省业务组的统计数据 + 供应浙江内部货运站运费总计<br/>private String transWeight; | 业务太复杂 新系统重新设计BigScreenServiceImpl#getZheJiangData |                                                              | 有           |
| ~~//最新派车<br/>private List<Map<String, String>> lastTransitTask;~~ | ~~数据没有进行set前端也没有处理~~                            |                                                              | ~~无~~       |
| ~~//新增车辆<br/>private List<Map<String, String>> lastAddTruck;~~ | ~~在页面并没有用到该字段~~                                   |                                                              | ~~无~~       |
| //车源分布情况图<br/>private List<Map<String, String>> truckDis; | SELECT left(truck_number,1) truckNo, COUNT(1) amount FROM     truck  WHERE     deleted = 0 AND truck_number IS NOT NULL GROUP BY left(truck_number,1)  ORDER BY amount DESC |                                                              | 有           |
| //车主top10运费额（万元）<br/>private Map<String, String> topCzBill; | select carrier_uid,IFNULL(sum(carrier_money),0) money_count from biz_stub where     process_time &gt;= #{beginDate}  and process_time &lt;= #{endDate}   group by carrier_uid order by money_count DESC limit #{lmtSize} |                                                              | 有           |
| //平台车辆类型<br/>private List<Map<String, String>> truckType; | 以carriage(车型)length(分组)                                 |                                                              | 有           |
| //线路运价挂牌指数<br/>private List<Map<String, String>> shipPrice; | SELECT COUNT(1) amount,sender_city sendCityId,recipient_city reCityId ,AVG(auction_price) auctionPrice FROM     auction  WHERE     sender_city IS NOT NULL AND recipient_city IS NOT NULL AND settle_unit = 'T' GROUP BY sender_city,recipient_city ORDER BY amount DESC LIMIT 10 |                                                              | 有           |

