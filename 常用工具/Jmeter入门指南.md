JMeter是开源软件Apache基金会下的一个性能测试工具，用来测试部署在服务器端的应用程序的性能。近来，JMeter因为其使用简单，现在也被社区作为接口测试工具...... *啥？什么是性能测试，怎么又来了个接口测试？*好吧，xmeter君举个栗子，你开了一个网店，兴冲冲地准备双十一大干一把，没想当天活动的时候大量用户一访问你的网店，你的网店挂了，那怎么办？办法就是在实际搞活动之前，先测试一下以确认系统能承受那么多的用户，当然测试的时候我们不需要请真正的这么多实际用户，否则得花多少钱啊，JMeter就是那个能帮助模拟大量用户访问你网站的一个软件。对，而且它是开源的，不花钱！那个接口测试呢，这里大概了解一下就可以了，就是验证你的网店应用逻辑有没有问题的，比如你做打折活动的时候，结算的时候金额别出错，要不客户找你麻烦不是？

# JMeter下载和安装

JMeter可以在JMeter的[官方网站](https://link.jianshu.com/?t=http://jmeter.apache.org/)下载，下载链接如下图所示，可以下载到的最新的版本是3.0，

![image-20200604155109061](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604155109061.png)

因为我用的是mac所以下个tgz包 当然zip也可以就是

下载后解压到你系统下的任意目录，我们称该目录为%JMETER_HOME%，然后运行%JMETER_HOME%\bin\jmeter文件，怎么样，JMeter出来了吗？嗯！？等等，好像报错了。仔细看一下报错原因，原来是Java没安装，因为JMeter是用Java写的，运行的时候需要Java ......不对啊，我这里好像已经看到JMeter的界面了 -- 当然咯，恭喜你，这是因为你之前已经安装了Java了，就跳过下一步吧。

![image-20200604155305914](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604155305914.png)

安装java就不说了

# JMeter之初体验

JMeter安装完了，那我们来一个简单的实验。性能测试当然得有个测试目标，就是被测系统是什么.

## 添加虚拟用户组

如下图所示，右击“测试计划”>添加>Threads（Users）>线程组。这里需要解释一下“线程组”的意思：JMeter是由Java实现的，并且使用一个Java线程来模拟一个用户，因此线程组（Thread Group）就是指一组用户的意思，换句话说一个线程组就是**一组虚拟用户（virtual users）**，这些虚拟用户用来模拟访问被测系统。

![image-20200604155529326](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604155529326.png)



![image-20200604155554157](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604155554157.png)

1）线程数：这里就是指虚拟用户数，默认的输入是“1”，则表明模拟一个虚拟用户访问被测系统，如果想模拟100个用户，则此处输入100。

2）Ramp-Up Period (in seconds): 虚拟用户增长时长。不明白别着急，xmeter君给你举个栗子：比如你测试的是一个考勤系统，那么实际用户登录使用考勤系统的时候并不是大家喊1、2、3 - 走起，然后一起登录。实际使用场景可能是9点钟上班，那么从8:30开始，考勤系统会陆陆续续有人开始登录，直到9:10左右，那么如果完全按照用户的使用场景，设计该测试的时候此处应输入40（分钟）* 60（秒）= 2400。但是实际测试一般不会设置如此长的Ramp-Up时间，原因嘛，难道你做一次测试要先等上40分钟做登录操作？一般情况下，可以估计出登录频率最高的时间长度，比如此处可能从8:55到9:00登录的人最多，那这里设置成300秒，如果“线程数”输入为100，则意味着在5分钟内100用户登录完毕。

每5*60/100=3秒会多出一个用户来登录，换句话说就是0秒的时候0个用户登录，3秒的时候1个用户同时登录，30秒的时候10个用户同时登录，1分钟的时候20个用户同时登录，5分钟时100个用户同时登录。这是一个持续加压的过程。

3）循环次数：该处设置一个虚拟用户做多少次的测试。默认为1，意味着一个虚拟用户做完一遍事情之后，该虚拟用户停止运行。如果选中“永远”，则意味着测试运行起来之后就根本停不下来了，除非你把它强制咔嚓。

## 添加被测页面

![image-20200604155738866](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604155738866.png)

![image-20200604161142548](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604161142548.png)

## 观察结果树

![image-20200604161909577](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604161909577.png)

![image-20200604161937952](https://gitee.com/cdx_dayshow/picBed/raw/master/img/image-20200604161937952.png)